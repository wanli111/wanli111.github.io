<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小万里工作室</title>
  
  <subtitle>人生若只如初见，何事秋风悲画扇</subtitle>
  <link href="https://wanli111.github.io/atom.xml" rel="self"/>
  
  <link href="https://wanli111.github.io/"/>
  <updated>2024-01-31T09:29:51.487Z</updated>
  <id>https://wanli111.github.io/</id>
  
  <author>
    <name>万里</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="https://wanli111.github.io/2024/02/06/%E5%B9%BB%E5%85%BD%E5%B8%95%E9%B2%81%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/"/>
    <id>https://wanli111.github.io/2024/02/06/%E5%B9%BB%E5%85%BD%E5%B8%95%E9%B2%81%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA/</id>
    <published>2024-02-06T03:12:20.721Z</published>
    <updated>2024-01-31T09:29:51.487Z</updated>
    
    <content type="html"><![CDATA[<h1 id="全网最详细CentOS搭建幻兽帕鲁私服教程"><a href="#全网最详细CentOS搭建幻兽帕鲁私服教程" class="headerlink" title="全网最详细CentOS搭建幻兽帕鲁私服教程"></a><strong>全网最详细CentOS搭建幻兽帕鲁私服教程</strong></h1><h2 id="一、准备"><a href="#一、准备" class="headerlink" title="一、准备"></a>一、准备</h2><h3 id="1．机器准备"><a href="#1．机器准备" class="headerlink" title="1．机器准备"></a>1．机器准备</h3><p>为了搭建私服，我们首先需要一台云服务器。云服务器的厂商没有特别要求，腾讯云、阿里云、华为云都可以，这里以阿里云为例子</p><p>官方文档推荐的服务器要求CPU4核心内存8GB，所以我们要准备好一个4核8GB的服务器。实测2核4GB的大概在5人左右就特别容易崩溃，<a class="link"   href="https://so.csdn.net/so/search?q=CPU&spm=1001.2101.3001.7020" >CPU <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>占用率在98%，内存占用很快就超过100%溢出，所以想要稳定最低最低也要2核6GB。（之前游戏优化太烂不会自动释放内存的问题，官方在2024-01-30已基本解决）</p><p>第一步是购买云服务器。</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172105584.png"                      alt="image-20240131172105584"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172114508.png"                      alt="image-20240131172114508"                ></p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172120490.png"                      alt="image-20240131172120490"                ></p><p>这边选择配置的话推荐四核十六GB的服务器，内存太小根本带不动。</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172132216.png"                      alt="image-20240131172132216"                ></p><p>系统选择CentOS</p><h3 id="2．机器登录"><a href="#2．机器登录" class="headerlink" title="2．机器登录"></a>2．机器登录</h3><p>有计算机背景的同学可以跳过这部分，比较基础。</p><p>登录云服务器，可以直接用ssh连接，当然也可以用会话管理工具，使用起来会比较方便。个人比较喜欢的一个工具是MobaXterm，这个是官方网站：<a class="link"   href="https://mobaxterm.mobatek.net/" >https://mobaxterm.mobatek.net <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>然后在应用中添加新会话</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172209712.png"                      alt="image-20240131172209712"                ></p><p>会话类型选择SSH</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172222041.png"                      alt="image-20240131172222041"                ></p><p>用户使用root,连接成功后输入root的密码即可</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172231561.png"                      alt="image-20240131172231561"                ></p><p>点击好的，连接后输入密码，即可完成ssh连接</p><p>获取公网ip方法</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172249399.png"                      alt="image-20240131172249399"                ></p><p>获取用户名、设置密码</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172258546.png"                      alt="image-20240131172258546"                ></p><h2 id="二、SteamCMD下载"><a href="#二、SteamCMD下载" class="headerlink" title="二、SteamCMD下载"></a>二、SteamCMD下载</h2><h3 id="1．更改账号"><a href="#1．更改账号" class="headerlink" title="1．更改账号"></a>1．更改账号</h3><p>在终端执行以下命令生成一个名为<code>steam</code>的云服务器账号：adduser steam</p><p>再修改指定用户steam的密码：passwd steam</p><p>在窗口提示New password:之后输入新密码（两遍是不显示的）</p><p>赋予新用户权限 usermod -G root steam </p><p>然后切换到普通用户steam，命令：su steam</p><p>最后切换到用户steam的根目录，命令：cd</p><p>2．下载相关资源</p><p>3．运行SteamCMD</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172320236.png"                      alt="image-20240131172320236"                ></p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装环境</span></span><br><span class="line">yum install glibc libstdc++ -y</span><br><span class="line">yum install glibc.i686 libstdc++.i686 -y</span><br><span class="line">yum install screen -y </span><br><span class="line"><span class="built_in">mkdir</span> ~/Steam &amp;&amp; <span class="built_in">cd</span> ~/Steam <span class="comment">#为 SteamCMD 创建目录并切换至该目录。 </span></span><br><span class="line"><span class="comment">#下载并解压缩适用于 Linux 的 SteamCMD</span></span><br><span class="line">wget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz</span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar xvf steamcmd_linux.tar.gz</span><br><span class="line"><span class="comment">#继续安装SteamCMD</span></span><br><span class="line">./steamcmd.sh </span><br></pre></td></tr></table></figure></div><p>下载完成后，命令行会变成以Steam&gt;开头。</p><p>注： 如果提示bash: wget: command not found，则需要用命令su root切换到root账户再安装wget下载工具，命令：yum install wget -y，安装之后再切换回steam账户的根目录</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Steam &gt;login anonymous </span><br></pre></td></tr></table></figure></div><p>PS:出现 Retrying 按ctrl+c退出 重新运行SteamCMD继续登陆，直到出现OK为止！ </p><h1 id="三、Palserver下载"><a href="#三、Palserver下载" class="headerlink" title="三、Palserver下载"></a>三、Palserver下载</h1><p>幻兽帕鲁最近在社区呈现了爆火的趋势，在线人数已突破百万级别。为了和小伙伴愉快的玩耍，有一定财力的小伙伴，搭建一个私人服务器是一个最稳定而舒服的解决方案。本文章将讲解一下如何利用CentOS搭建幻兽帕鲁的私服（专用服务器），如果有不明白的，可以参考官方文档作为补充：<a class="link"   href="https://tech.palworldgame.com/dedicated-server-guide" >https://tech.palworldgame.com/dedicated-server-guide <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p><p>总步骤分为三步：准备机器，下载SteamCMD，以及下载PalServer。</p><p>下载幻兽帕鲁服务端 app_update 2394010 </p><p>下载服务器依赖 app_update 1007 </p><p>退出SteamCMD quit </p><p>建立库链接： </p><p>steamcmd会在&#x2F;home&#x2F;steam&#x2F;目录下生成.steam文件夹或者Steam文件夹，新版本生成的文件夹都是Steam，要注意如果没有生成.steam文件夹，要手动创建一个</p><h2 id="启动服务器"><a href="#启动服务器" class="headerlink" title="启动服务器"></a>启动服务器</h2><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#新建.steam文件夹 </span></span><br><span class="line"><span class="built_in">mkdir</span> /home/steam/.steam </span><br><span class="line"><span class="comment">#新建sdk64文件夹</span></span><br><span class="line"><span class="built_in">mkdir</span> /home/steam/.steam/sdk64</span><br><span class="line"><span class="built_in">cp</span> -r /home/steam/Steam/steamapps/common/Steamworks\ SDK\ Redist/linux64/steamclient.so /home/steam/.steam/sdk64</span><br><span class="line"><span class="comment">#启动游戏</span></span><br><span class="line">screen</span><br><span class="line"><span class="built_in">cd</span> /home/steam/Steam/steamapps/common/PalServer</span><br><span class="line">./PalServer.sh</span><br></pre></td></tr></table></figure></div><p>启动成功后，会在此路径下生成ini配置文件：Pal&#x2F;Saved&#x2F;Config&#x2F;Linuxserver&#x2F;PalWorldSettings.ini</p><p>配置服务的ini不是强制的，如果没有特别要求，可以直接跳过该步骤，游戏会自动使用默认的配置。再次启动PalServer前可以修改一下配置文件，可以把默认的配置文件DefaultPalWorldSettings.ini 拷贝一份，重命名为PalWorldSettings.ini，然后手动修改里面的内容，用vim修改内容。命令：</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Steam/steamApps/common/PalServer</span><br><span class="line"><span class="built_in">cp</span> ./DefaultPalWorldSettings.ini Pal/Saved/Config/Linuxserver/PalWorldSettings.ini</span><br><span class="line">vim Pal/Saved/Config/LinuxServer/PalWorldSettings.ini</span><br></pre></td></tr></table></figure></div><p>Vim的使用方法可以上网找</p><p>修改完配置后，回到根目录处输入命令：</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">screen -S PalServer</span><br><span class="line">./PalServer.sh</span><br><span class="line"><span class="comment">#Ctrl+A+D将进程保存至后台</span></span><br></pre></td></tr></table></figure></div><h2 id="关闭服务器"><a href="#关闭服务器" class="headerlink" title="关闭服务器"></a>关闭服务器</h2><p>1.在根目录处输入命令：screen -ls</p><p> 2.找到相应的进程，输入screen -r XXXXXXXXXX，比如我这里24871.PalServer，就输入screen -24871.PalServer，就可以重新回到面板里</p><p>按下Ctrl+C就可以关闭服务器了</p><h2 id="连接服务器"><a href="#连接服务器" class="headerlink" title="连接服务器"></a>连接服务器</h2><p>在图下位置输入你的服务器公网IP地址+端口号（默认是8211）</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172425076.png"                      alt="image-20240131172425076"                ></p><p>输入完之后可能会报错</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172433881.png"                      alt="image-20240131172433881"                ></p><p>耐心等待一段时间后，点进最近访问过的服务器列表，就可以看到你想进入的服务器了，输入密码，就可以开始游戏了</p><p><img                       lazyload                     src="/images/loading.svg"                     data-src="C:\Users\万里\AppData\Roaming\Typora\typora-user-images\image-20240131172442684.png"                      alt="image-20240131172442684"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;全网最详细CentOS搭建幻兽帕鲁私服教程&quot;&gt;&lt;a href=&quot;#全网最详细CentOS搭建幻兽帕鲁私服教程&quot; class=&quot;headerlink&quot; title=&quot;全网最详细CentOS搭建幻兽帕鲁私服教程&quot;&gt;&lt;/a&gt;&lt;strong&gt;全网最详细CentOS搭建幻兽</summary>
      
    
    
    
    
  </entry>
  
</feed>
